<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="http://d3js.org/d3.v3.js"></script>
<script src="../dist/piper.js"></script>
<link rel="stylesheet" href="style.css" charset="utf-8">
</head>
<body>

<div class="chart"></div>
<script>
// setInterval(function(d){
//     render();
// }, 1000);

function render(){
    var dateNow = new Date().getTime();
    var values = d3.range(10).map(function(d, i){ return ~~(Math.random() * 100); });
    var timestamps = d3.range(10).map(function(d, i){ return dateNow + (i*60*60*1000); });
    var data = {values: values, timestamps: timestamps};

    var chartContainer = document.querySelector('.chart');

    var chart = piper.timeseriesLineChart({
            container: chartContainer,
            width: 400,
            height: 200,
            margin: {top: 50, right: 70, bottom: 35, left: 60},
            data: data,
            axisTitleX: 'Title X',
            axisTitleY: 'Title Y',
            chartTitle: 'Chart',
            axisXFormat: d3.time.format("%H:%M"),
            tooltipFormat: function(d){
                var value = d.data.y;
                return (value % 1) ? value.toPrecision(3) : value;
            }
        });
}

render();

</script>

</body>
</html>
