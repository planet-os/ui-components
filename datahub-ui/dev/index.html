<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="../src/start.js"></script>
    <script src="../dist/datahub-chart.js"></script>
    <script src="datahub-timeseries-chart.js"></script>

    <link rel="stylesheet" href="../style/components.css" />
    <link rel="stylesheet" href="../style/dark-theme.css" />
    <link rel="stylesheet" href="dev-style.css" />
    <style>
        .chart {
            width: 400px;
            height: 100px;
        }

    </style>
</head>

<body>
    <div class="chart"></div>
    
    <script>

    var commonDataConfig = {
        layerCount: 1,
        count: 10,
        timeIncrement: 'minute', 
        min: 0, 
        max: 50
    }
    var commonChartConfig = {
        tickStep: 20,
        resolution: 'minute',
        axisXFormat: '%H:%M',
        yAxisTitle: 'Âºc', 
        domain: [0, 50],
        chartType: 'area',
        margin: {
            top: 20,
            right: 20,
            bottom: 20,
            left: 50
        }
    }

    var dataConfig1 = commonDataConfig
    var chartConfig1 = commonChartConfig

    var dataConfig2 = datahub.utils.mergeAll(commonDataConfig, {
        layerCount: 1,
        count: 100,
    })
    var chartConfig2 = datahub.utils.mergeAll(commonChartConfig, {
        chartType: 'line',
        xTicks: d3.utcMinute.every(20),
        yTicks: 3,
        hideXAxis: true,
        hideYAxis: true,
        hideXGrid: true
    })

    var dataConfig = dataConfig2
    var chartConfig = chartConfig2

    var data = datahub.data.generateTimeSeriesSplit(dataConfig)

    var container = document.querySelector('.chart')
    var timeseries = datahub.timeseries({
            parent: container
        })
        .on('hover', function(d) {
            // console.log(d)
        })

    timeseries.setConfig(chartConfig)

    timeseries.setData(data)

    </script>
</body>

</html>
