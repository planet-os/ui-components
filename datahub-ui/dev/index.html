<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="../src/start.js"></script>
    <script src="../dist/datahub-chart.js"></script>
    <script src="datahub-timeseries-chart.js"></script>

    <link rel="stylesheet" href="../style/components.css" />
    <link rel="stylesheet" href="../style/dark-theme.css" />
    <link rel="stylesheet" href="dev-style.css" />
    <style>
        .chart-container {
            width: 400px;
            height: 100px;
            background-color: #233541;
            margin: 40px;
        }

    </style>
</head>

<body>
    <div class="chart-container chart1"></div>
    <div class="chart-container chart2"></div>
    <div class="chart-container chart3"></div>
    
    <script>

    var commonDataConfig = {
        layerCount: 1,
        count: 10,
        timeIncrement: 'minute', 
        min: 0, 
        max: 50
    }
    var commonChartConfig = {
        tickStep: 20,
        resolution: 'minute',
        axisXFormat: '%H:%M',
        yAxisTitle: 'Âºc', 
        domain: [0, 50],
        chartType: 'area',
        margin: {
            top: 20,
            right: 20,
            bottom: 30,
            left: 40
        }
    }

    // chart 1
    var dataConfig1 = commonDataConfig
    var chartConfig1 = commonChartConfig
    var data = datahub.data.generateTimeSeriesSplit(dataConfig1)
    datahub.timeseries({
            parent: document.querySelector('.chart1')
        })
        .on('hover', function(d) {
            // console.log(d)
        })
        .setConfig(chartConfig1)
        .setData(data)

    // chart 2
    var dataConfig2 = datahub.utils.mergeAll({}, commonDataConfig, {
        layerCount: 2,
        count: 100,
    })
    var chartConfig2 = datahub.utils.mergeAll({}, commonChartConfig, {
        chartType: 'line',
        xTicks: d3.utcMinute.every(20),
        yTicks: 3
    })
    var data = datahub.data.generateTimeSeriesSplit(dataConfig2)
    datahub.timeseries({
            parent: document.querySelector('.chart2')
        })
        .on('hover', function(d) {
            // console.log(d)
        })
        .setConfig(chartConfig2)
        .setData(data)

    // chart 3
    var dataConfig3 = datahub.utils.mergeAll({}, commonDataConfig, {
        layerCount: 1,
        count: 30,
    })
    var chartConfig3 = datahub.utils.mergeAll({}, commonChartConfig, {
        chartType: 'step',
        stepRange: 7
    })
    var data = datahub.data.generateTimeSeriesSplit(dataConfig3)
    datahub.timeseries({
            parent: document.querySelector('.chart3')
        })
        .on('hover', function(d) {
            // console.log(d)
        })
        .setConfig(chartConfig3)
        .setData(data)

    </script>
</body>

</html>
