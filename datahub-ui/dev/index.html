<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="../src/start.js"></script>
    <script src="../dist/datahub-chart.js"></script>
    <script src="datahub-timeseries-chart.js"></script>

    <link rel="stylesheet" href="../style/components.css" />
    <link rel="stylesheet" href="../style/dark-theme.css" />
    <style>
    /*
    blue: #5499C2
    green: #50935D
    */
        .chart {
            width: 400px;
            height: 100px;
        }

        .datahub-timeseries-chart .tick line,
        .datahub-timeseries-chart .domain {
            stroke: #888;
        }

        .datahub-timeseries-chart .grid .tick line {
            stroke: #555;
        }

        .datahub-timeseries-chart .grid .domain {
            display: none;
        }

        .datahub-timeseries-chart .tick text {
            fill: #aaa;
        }

        .datahub-timeseries-chart .reference {
            stroke: #aaa;
        }

        .datahub-timeseries-chart .shape {
            fill: none;
            stroke: #5499C2;
        }

        .datahub-timeseries-chart .shape.layer0 {
            stroke: #50935D;
        }

        .datahub-timeseries-chart .area,
        .datahub-timeseries-chart .dot {
            fill-opacity: 0.5;
            fill: #5499C2;
            stroke: #5499C2;
        }

        .datahub-timeseries-chart .area.layer0,
        .datahub-timeseries-chart .dot.layer0 {
            fill-opacity: 0.5;
            fill: #50935D;
            stroke: #50935D;
        }

        .datahub-timeseries-chart .tooltip line{
            stroke: white;
            fill: white;
        }

        .datahub-timeseries-chart .axis-title text {
            fill: #aaa;
            font-size: 0.6em;
        }
    </style>
</head>

<body>
    <div class="chart"></div>
    
    <script>

    var commonDataConfig = {
        layerCount: 1,
        count: 10,
        timeIncrement: 'minute', 
        min: 0, 
        max: 50
    }
    var commonChartConfig = {
        tickStep: 20,
        resolution: 'minute',
        axisXFormat: '%H:%M',
        yAxisTitle: 'Âºc', 
        domain: [0, 50],
        chartType: 'area',
        margin: {
            top: 20,
            right: 20,
            bottom: 20,
            left: 50
        }
    }

    var dataConfig1 = commonDataConfig
    var chartConfig1 = commonChartConfig

    var dataConfig2 = datahub.utils.mergeAll(commonDataConfig, {
        layerCount: 1,
        count: 100,
    })
    var chartConfig2 = datahub.utils.mergeAll(commonChartConfig, {
        chartType: 'line',
        xTicks: d3.utcMinute.every(20),
        yTicks: 3,
        hideXAxis: true,
        hideYAxis: true,
        hideXGrid: true
    })

    var dataConfig = dataConfig2
    var chartConfig = chartConfig2

    var data = datahub.data.generateTimeSeriesSplit(dataConfig)

    var container = document.querySelector('.chart')
    var timeseries = datahub.timeseries({
            parent: container
        })
        .on('hover', function(d) {
            // console.log(d)
        })

    timeseries.setConfig(chartConfig)

    timeseries.setData(data)

    // var dataMulti = {
    //     timestamp: datahub.data.generateTimestamps(),
    //     lineData: datahub.data.generateTimeSeries({min: 100, max: 10000})
    // }

    // var container = document.querySelector('.weather-chart')
    // datahub.multiChart({
    //     parent: container
    // })

    </script>
</body>

</html>
